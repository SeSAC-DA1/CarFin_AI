// PersonaDefinitions.ts - ì´ˆê³µê° í˜„ì‹¤ íŽ˜ë¥´ì†Œë‚˜ 5ê°œ (ì™„ì „ ë¦¬ë‰´ì–¼)

export interface DemoPersona {
  id: 'first_car_anxiety' | 'working_mom' | 'mz_office_worker' | 'camping_lover' | 'large_family_dad';
  name: string;
  emoji: string;
  age: number;
  occupation: string;
  situation: string;
  realConcerns: string[]; // ì‹¤ì œ ê³ ë¯¼ë“¤
  budget: { min: number; max: number };
  priorities: string[];
  sampleQuestions: string[];
  collaborationFlow: ('concierge' | 'needs_analyst' | 'data_analyst')[];
  theme: {
    color: string;
    bgColor: string;
    borderColor: string;
    icon: string;
    description: string;
  };
  expectedPattern: string;
  keyPhrases: string[];
  personalStory: string; // ê°œì¸ì  ìŠ¤í† ë¦¬ë¡œ ê³µê°ëŒ€ í˜•ì„±
}

export const DEMO_PERSONAS: DemoPersona[] = [
  // 1. ê¹€ì§€ìˆ˜ - ê°“ ì‚¬íšŒì¸, ì²«ì°¨ì˜ ê³µí¬
  {
    id: 'first_car_anxiety',
    name: 'ê¹€ì§€ìˆ˜',
    emoji: 'ðŸ˜¨',
    age: 26,
    occupation: 'ì‹ ìž…ì‚¬ì› (ìž…ì‚¬ 8ê°œì›”ì°¨)',
    situation: 'ë“œë””ì–´ ì²« ì›”ê¸‰ìœ¼ë¡œ ì°¨ë¥¼ ì‚¬ë ¤ê³  í•˜ëŠ”ë°... ë¬´ì„œì›Œìš”',
    personalStory: 'ëŒ€í•™ìƒ ë•ŒëŠ” ë¶€ëª¨ë‹˜ ì°¨ë§Œ ê°€ë” ë¹Œë ¤ íƒ”ëŠ”ë°, ì´ì œ ë‚´ ì°¨ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤ë‹ˆ ë–¨ë ¤ìš”. ì‚¬ê³ ë¼ë„ ë‚˜ë©´ ì–´ë–¡í•˜ì£ ?',
    realConcerns: [
      'ì‚¬ê³  ë‚˜ë©´ ì •ë§ ì–´ë–¡í•˜ì§€? ðŸ’¥',
      'ë³´í—˜ë£Œê°€ ì›”ê¸‰ì˜ ì ˆë°˜ì´ë©´ ì–´ë–¡í•´? ðŸ˜±',
      'ì¹œêµ¬ë“¤ì´ "ê·¸ ëˆì´ë©´ ë” ì¢‹ì€ ì°¨ ìƒ€ì„í…ë°"ë¼ê³  í• ê¹Œë´',
      'ë¶€ëª¨ë‹˜í•œí…Œ "ì—­ì‹œ ì• ëŠ” ì• ì•¼"ë¼ëŠ” ì†Œë¦¬ ë“¤ì„ê¹Œë´',
      'ì¤‘ê³ ì°¨ ë”œëŸ¬ê°€ ë‚˜ë¥¼ í˜¸êµ¬ë¡œ ë³¼ê¹Œë´'
    ],
    budget: { min: 1600, max: 2000 },
    priorities: ['ì•ˆì „ì„±', 'ë³´í—˜ë£Œ', 'ë¸Œëžœë“œ ì‹ ë¢°ì„±', 'ì—°ë¹„', 'ì¤‘ê³ ì°¨ ìƒíƒœ'],
    sampleQuestions: [
      'ì²«ì°¨ë¡œ ë­ê°€ ì¢‹ì„ê¹Œìš”? ì§„ì§œ ë¬´ì„œì›Œìš” ã… ã… ',
      'ì´ˆë³´ìš´ì „ìžë„ ì•ˆì „í•˜ê²Œ íƒˆ ìˆ˜ ìžˆëŠ” ì°¨ ì¶”ì²œí•´ì£¼ì„¸ìš”',
      'ë³´í—˜ë£Œê¹Œì§€ ìƒê°í•˜ë©´ ì–´ë–¤ ì°¨ê°€ ê²½ì œì ì¼ê¹Œìš”?'
    ],
    collaborationFlow: ['concierge', 'needs_analyst', 'data_analyst'],
    theme: {
      color: 'blue',
      bgColor: 'bg-blue-50',
      borderColor: 'border-blue-200',
      icon: 'ðŸ›¡ï¸',
      description: 'ì²«ê±¸ìŒì˜ ì•ˆì „'
    },
    expectedPattern: 'FIRST_CAR_ANXIETY',
    keyPhrases: ['ì²«ì°¨', 'ì´ˆë³´', 'ë¬´ì„œì›Œ', 'ì•ˆì „í•œ', 'ë³´í—˜ë£Œ']
  },

  // 2. ì´ì†Œì˜ - ì›Œí‚¹ë§˜, ì•„ì´ì™€ ë‚˜ì˜ ìƒˆë¡œìš´ ì¼ìƒ
  {
    id: 'working_mom',
    name: 'ì´ì†Œì˜',
    emoji: 'ðŸ‘©â€ðŸ’¼',
    age: 33,
    occupation: 'ì›Œí‚¹ë§˜ (íšŒê³„íŒ€ ëŒ€ë¦¬, 4ì„¸ ë”¸)',
    situation: 'ì•„ì´ê°€ ì»¤ì„œ ìœ ì¹˜ì› ë“±í•˜ì›, ì£¼ë§ ë‚˜ë“¤ì´ etc. ì°¨ ì—†ìœ¼ë©´ ì§„ì§œ íž˜ë“¤ì–´ìš”',
    personalStory: 'ìž„ì‹  ì „ì—ëŠ” ì§€í•˜ì² ì´ íŽ¸í–ˆëŠ”ë°, ì´ì œ ìœ ëª¨ì°¨ì— ê¸°ì €ê·€ ê°€ë°©ê¹Œì§€... ì°¨ê°€ ì ˆì‹¤í•´ìš”',
    realConcerns: [
      'ì•„ì´ê°€ ì°¨ ë©€ë¯¸í•˜ë©´ ì–´ë–¡í•˜ì§€? ðŸ¤¢',
      'ì¹´ì‹œíŠ¸ ì„¤ì¹˜í•˜ê¸° íŽ¸í• ê¹Œ?',
      'ê¸‰í•  ë•Œ ë³‘ì› ê°€ê¸° íŽ¸í•´ì•¼ í•˜ëŠ”ë°',
      'ì£¼ì°¨í•  ë•Œ ì˜† ì°¨ì— ë¬¸ ë¶€ë”ªížˆë©´... (ì•„ì´ê°€ ê°‘ìžê¸° ë¬¸ ì—´ì–´ì„œ)',
      'ë‚¨íŽ¸ì´ "ëˆ ì•„ê¹Œì›Œ"ë¼ê³  í•˜ë©´ ì–´ë–¡í•˜ì§€'
    ],
    budget: { min: 2500, max: 3200 },
    priorities: ['ì•„ì´ ì•ˆì „ì„±', 'ìŠ¹í•˜ì°¨ íŽ¸ì˜ì„±', 'ê³µê°„ í™œìš©', 'ì—°ë¹„', 'ì£¼ì°¨ íŽ¸ì˜ì„±'],
    sampleQuestions: [
      '4ì‚´ ì•„ì´ í‚¤ìš°ëŠ”ë° ì–´ë–¤ ì°¨ê°€ ì¢‹ì„ê¹Œìš”?',
      'ìœ ì¹˜ì› ë“±í•˜ì›í•˜ê¸° íŽ¸í•œ ì°¨ ì¶”ì²œí•´ì£¼ì„¸ìš”',
      'ì•„ì´ì™€ ì£¼ë§ ë‚˜ë“¤ì´ ë‹¤ë‹ˆê¸° ì¢‹ì€ SUV ìžˆë‚˜ìš”?'
    ],
    collaborationFlow: ['needs_analyst', 'data_analyst', 'concierge'],
    theme: {
      color: 'pink',
      bgColor: 'bg-pink-50',
      borderColor: 'border-pink-200',
      icon: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§',
      description: 'ê°€ì¡±ì˜ í–‰ë³µ'
    },
    expectedPattern: 'FAMILY_PRIORITY',
    keyPhrases: ['ì›Œí‚¹ë§˜', 'ì•„ì´', 'ìœ ì¹˜ì›', 'ê°€ì¡±', 'ì•ˆì „']
  },

  // 3. ë°•ì¤€í˜ - MZì„¸ëŒ€ ì§ìž¥ì¸, ì¸ìŠ¤íƒ€ ê°ì„± ì¤‘ìš”
  {
    id: 'mz_office_worker',
    name: 'ë°•ì¤€í˜',
    emoji: 'ðŸ“±',
    age: 29,
    occupation: 'ë§ˆì¼€íŒ… íšŒì‚¬ ê³¼ìž¥ (ì¸ìŠ¤íƒ€ íŒ”ë¡œì›Œ 3K)',
    situation: 'ë™ê¸°ë“¤ ë‹¤ ì¢‹ì€ ì°¨ íƒ€ëŠ”ë° ë‚˜ë§Œ ì§€í•˜ì² ... ì´ì œ ì¢€ ë©‹ì§„ ì°¨ íƒ€ê³  ì‹¶ì–´ìš”',
    personalStory: 'íšŒì‚¬ ë™ê¸°ê°€ BMW íƒ€ê³  ì˜¤ëŠ”ë° ë‚˜ëŠ” ì•„ì§ë„ ë²„ìŠ¤ì •ë¥˜ìž¥ì—ì„œ... ì¸ìŠ¤íƒ€ ìŠ¤í† ë¦¬ì—ë„ ëª» ì˜¬ë¦¬ê² ì–´ìš”',
    realConcerns: [
      'ë™ê¸°ë“¤í•œí…Œ "ì•„ì§ë„ ê·¸ëŸ° ì°¨ íƒ€?" ì†Œë¦¬ ë“¤ì„ê¹Œë´ ðŸ˜…',
      'ì¸ìŠ¤íƒ€ì— ì˜¬ë ¤ë„ ë¶€ë„ëŸ½ì§€ ì•Šì„ê¹Œ?',
      'ë°ì´íŠ¸ í•  ë•Œ ì—¬ìžì¹œêµ¬ê°€ ì‹¤ë§í•˜ë©´?',
      'ë¶€ëª¨ë‹˜ì´ "ë„ˆ í—ˆì„¸ ë¶€ë¦¬ë‚˜?"ë¼ê³  í•˜ì‹œë©´...',
      'í• ë¶€ê¸ˆ ë•Œë¬¸ì— ìš©ëˆì´ ì¤„ì–´ë“¤ë©´ ì–´ë–¡í•˜ì§€?'
    ],
    budget: { min: 3800, max: 4800 },
    priorities: ['ë””ìžì¸/ì™¸ê´€', 'ë¸Œëžœë“œ ì´ë¯¸ì§€', 'ì—°ë¹„', 'ì˜µì…˜', 'ë‚´ ìŠ¤íƒ€ì¼'],
    sampleQuestions: [
      '20ëŒ€ í›„ë°˜ ì§ìž¥ì¸í•œí…Œ ì–´ìš¸ë¦¬ëŠ” ì„¸ë ¨ëœ ì°¨ ë­ì˜ˆìš”?',
      'BMW vs ë²¤ì¸  vs ì•„ìš°ë””, ë­ê°€ ê°€ìž¥ ê°€ì„±ë¹„ì¼ê¹Œìš”?',
      'ì¸ìŠ¤íƒ€ì— ì˜¬ë¦¬ê¸° ì¢‹ê³  ë°ì´íŠ¸í•˜ê¸° ì¢‹ì€ ì°¨ ì¶”ì²œí•´ì£¼ì„¸ìš”'
    ],
    collaborationFlow: ['concierge', 'needs_analyst', 'data_analyst'],
    theme: {
      color: 'purple',
      bgColor: 'bg-purple-50',
      borderColor: 'border-purple-200',
      icon: 'âœ¨',
      description: 'MZì˜ ê°ì„±'
    },
    expectedPattern: 'MZ_LIFESTYLE',
    keyPhrases: ['MZì„¸ëŒ€', 'ì§ìž¥ì¸', 'ì„¸ë ¨ëœ', 'BMW', 'ì¸ìŠ¤íƒ€']
  },

  // 4. ìµœë¯¼ì¤€ - ìº í•‘ì¡±, ì§„ì§œ ìžìœ ë¥¼ ì°¾ì•„ì„œ
  {
    id: 'camping_lover',
    name: 'ìµœë¯¼ì¤€',
    emoji: 'ðŸ•ï¸',
    age: 32,
    occupation: 'í”„ë¦¬ëžœì„œ ë””ìžì´ë„ˆ (ìº í•‘ ìœ íŠœë²„ ë¶€ì—…)',
    situation: 'ì½”ë¡œë‚˜ ì´í›„ ìº í•‘ì— ì™„ì „ ë¹ ì ¸ì„œ ì´ì œ ìº í•‘ì´ ë‚´ ì‚¶... ì™„ë²½í•œ ìº í•‘ì¹´ê°€ í•„ìš”í•´ìš”',
    personalStory: 'ì²˜ìŒì—ëŠ” í…íŠ¸ë§Œ ì³¤ëŠ”ë°, ì´ì œ ì°¨ë°•ì˜ ë§¤ë ¥ì— ë¹ ì ¸ì„œ... ìœ íŠœë¸Œì— ìº í•‘ ë¸Œì´ë¡œê·¸ë„ ì˜¬ë ¤ìš”',
    realConcerns: [
      'ë’·ì¢Œì„ì´ ì§„ì§œ í‰í‰í•˜ê²Œ ë ê¹Œ? (ì™„ì „ ì¤‘ìš”) ðŸ›ï¸',
      'ìº í•‘ ìž¥ë¹„ ë‹¤ ë„£ê³ ë„ ê³µê°„ì´ ë‚¨ì„ê¹Œ?',
      'ì°¨ë°•í•  ë•Œ ì§„ì§œ íŽ¸ì•ˆí•˜ê²Œ ìž˜ ìˆ˜ ìžˆì„ê¹Œ?',
      'ì‚°ê¸¸ ì˜¤ë¥´ë§‰ë„ íž˜ ì¢‹ê²Œ ì˜¬ë¼ê°ˆê¹Œ?',
      'ìœ íŠœë¸Œì— ë‚˜ì™€ë„ ë©‹ìžˆì„ê¹Œ? (êµ¬ë…ìžë“¤ì´ ì¸ì •í•´ì¤„ê¹Œ)'
    ],
    budget: { min: 3200, max: 4000 },
    priorities: ['í‰íƒ„í™” ê¸°ëŠ¥', 'ì ìž¬ ê³µê°„', 'ì˜¤í”„ë¡œë“œ ì„±ëŠ¥', 'ì—°ë¹„', 'ì™¸ê´€ ë””ìžì¸'],
    sampleQuestions: [
      'ìº í•‘í•˜ê¸° ì™„ë²½í•œ ì°¨ ì¶”ì²œí•´ì£¼ì„¸ìš”! í‰íƒ„í™” ê¼­ í•„ìš”í•´ìš”',
      'ì°¨ë°•í•  ë•Œ ì •ë§ íŽ¸í•œ SUVë‚˜ ìº í•‘ì¹´ ìžˆë‚˜ìš”?',
      'ìº í•‘ ìž¥ë¹„ ë§Žì´ ì‹¤ì„ ìˆ˜ ìžˆê³  ì‚°ê¸¸ë„ ìž˜ ì˜¬ë¼ê°€ëŠ” ì°¨'
    ],
    collaborationFlow: ['needs_analyst', 'data_analyst', 'concierge'],
    theme: {
      color: 'green',
      bgColor: 'bg-green-50',
      borderColor: 'border-green-200',
      icon: 'ðŸŒ²',
      description: 'ìžì—°ê³¼ì˜ ë™í–‰'
    },
    expectedPattern: 'CAMPING_LIFESTYLE',
    keyPhrases: ['ìº í•‘', 'ì°¨ë°•', 'í‰íƒ„í™”', 'ìžì—°', 'ìœ íŠœë¸Œ']
  },

  // 5. ì´ê²½ìˆ˜ - ëŒ€ê°€ì¡±ì˜ ë“ ë“ í•œ ê¸°ë‘¥, ë‹¤ì¸ìš©ì°¨ì˜ í˜„ì‹¤
  {
    id: 'large_family_dad',
    name: 'ì´ê²½ìˆ˜',
    emoji: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦â€ðŸ‘¶',
    age: 45,
    occupation: 'ëŒ€ê¸°ì—… ì°¨ìž¥ (ì•„ì´ 3ëª… + ë¶€ëª¨ë‹˜ ë™ê±°)',
    situation: '7ëª… ëŒ€ê°€ì¡±ì´ë¼ ì¼ë°˜ ì°¨ë¡œëŠ” í•œê³„... ë‹¤ì¸ìš©ì°¨ê°€ ì ˆì‹¤í•´ìš”',
    personalStory: 'ì•„ì´ ì…‹ì— ë¶€ëª¨ë‹˜ê¹Œì§€ ëª¨ì‹œê³  ì‚¬ë‹ˆ ì–´ë”” ê°€ë ¤ë©´ ë‘ ë²ˆ ë‚˜ëˆ  ê°€ì•¼ í•´ìš”. ì´ì œ ìŠ¹í•©ì°¨ë¥¼ ì§„ì§€í•˜ê²Œ ê³ ë ¤ ì¤‘ì´ì—ìš”',
    realConcerns: [
      'ìŠ¹í•©ì°¨ ê¸°ë¦„ê°’ì´ ì–¼ë§ˆë‚˜ ë‚˜ì˜¬ê¹Œ? ðŸ’¸',
      'ì£¼ì°¨í•  ê³³ì´ ìžˆì„ê¹Œ? (ì•„íŒŒíŠ¸ ì§€í•˜ì£¼ì°¨ìž¥)',
      'ì•„ì´ë“¤ì´ "ìš°ë¦¬ ì§‘ ì°¨ ë„ˆë¬´ í¬ë‹¤"ê³  ë¶€ë„ëŸ¬ì›Œí•˜ë©´?',
      'ë¶€ëª¨ë‹˜ ìŠ¹í•˜ì°¨ê°€ íŽ¸í• ê¹Œ? (ë¬´ë¦Žì´ ì•ˆ ì¢‹ìœ¼ì…”ì„œ)',
      '10ë…„ ì´ìƒ íƒ€ì•¼ í•˜ëŠ”ë° ê³ ìž¥ ì•ˆ ë‚˜ê³  ë²„í‹¸ê¹Œ?'
    ],
    budget: { min: 4000, max: 5500 },
    priorities: ['ë‹¤ì¸ìš© ê³µê°„', 'ì—°ë£Œ ê²½ì œì„±', 'ìŠ¹í•˜ì°¨ íŽ¸ì˜ì„±', 'ë‚´êµ¬ì„±', 'ìœ ì§€ë¹„'],
    sampleQuestions: [
      '7ëª… ëŒ€ê°€ì¡±ì´ ëª¨ë‘ íƒˆ ìˆ˜ ìžˆëŠ” ì°¨ ì¶”ì²œí•´ì£¼ì„¸ìš”',
      '9ì¸ìŠ¹ ìŠ¹í•©ì°¨ vs ëŒ€í˜• SUV ì–´ë–¤ê²Œ ê²½ì œì ì¼ê¹Œìš”?',
      'ë¶€ëª¨ë‹˜ê¹Œì§€ íŽ¸í•˜ê²Œ íƒœìš¸ ìˆ˜ ìžˆëŠ” ë‹¤ì¸ìš©ì°¨ ìžˆë‚˜ìš”?'
    ],
    collaborationFlow: ['data_analyst', 'needs_analyst', 'concierge'],
    theme: {
      color: 'amber',
      bgColor: 'bg-amber-50',
      borderColor: 'border-amber-200',
      icon: 'ðŸ ',
      description: 'ëŒ€ê°€ì¡±ì˜ ê¸°ë‘¥'
    },
    expectedPattern: 'LARGE_FAMILY',
    keyPhrases: ['ëŒ€ê°€ì¡±', '9ì¸ìŠ¹', 'ìŠ¹í•©ì°¨', 'ë‹¤ì¸ìš©', '7ëª…']
  }
];

// íŽ˜ë¥´ì†Œë‚˜ë³„ ë§žì¶¤ ë©”ì‹œì§€ (ë¦¬ë‰´ì–¼)
export const PERSONA_MESSAGES = {
  first_car_anxiety: {
    welcome: "ì²«ì°¨ êµ¬ë§¤ ì •ë§ ë–¨ë¦¬ì‹œì£ ? ê±±ì • ë§ˆì„¸ìš”! ì•ˆì „í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìžˆëŠ” ì°¨ëŸ‰ì„ ì°¨ê·¼ì°¨ê·¼ ì°¾ì•„ë“œë¦´ê²Œìš” ðŸ˜Š",
    priority: "ì²«ì°¨ëŠ” ë¬´ì—‡ë³´ë‹¤ ì•ˆì „ì„±ê³¼ ì‹ ë¢°ì„±ì´ ì¤‘ìš”í•´ìš”. ë³´í—˜ë£Œë„ ê¼¼ê¼¼ížˆ ë”°ì ¸ë“œë¦´ê²Œìš”!",
    budget_comment: "ì‹ ìž…ì‚¬ì› ì˜ˆì‚°ìœ¼ë¡œë„ ì¶©ë¶„ížˆ ì¢‹ì€ ì°¨ë¥¼ ì°¾ì„ ìˆ˜ ìžˆì–´ìš”!"
  },
  working_mom: {
    welcome: "ì•„ì´ì™€ í•¨ê»˜í•˜ëŠ” ì†Œì¤‘í•œ ì‹œê°„, ì•ˆì „í•˜ê³  íŽ¸ë¦¬í•œ ì°¨ë¡œ ë”ìš± í–‰ë³µí•˜ê²Œ ë§Œë“¤ì–´ë“œë¦´ê²Œìš”! ðŸ‘¨â€ðŸ‘©â€ðŸ‘§",
    priority: "ì›Œí‚¹ë§˜ì—ê²ŒëŠ” ì•„ì´ ì•ˆì „ê³¼ íŽ¸ì˜ì„±ì´ ìµœìš°ì„ ì´ì£ . ì‹¤ìš©ì ì¸ ì„ íƒì„ ë„ì™€ë“œë¦´ê²Œìš”!",
    budget_comment: "ê°€ì¡± ì˜ˆì‚° ë²”ìœ„ì—ì„œ ê°€ìž¥ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ì°¨ëŸ‰ì„ ì°¾ì•„ë“œë¦´ê²Œìš”."
  },
  mz_office_worker: {
    welcome: "MZì„¸ëŒ€ì˜ ê°ì„±ê³¼ ìŠ¤íƒ€ì¼ì„ ë‹´ì€ ì°¨ëŸ‰ì„ ì°¾ì•„ë³´ì„¸ìš”! ì¸ìŠ¤íƒ€ ê°ì„±ë„ ì¶©ì¡±ì‹œì¼œë“œë¦´ê²Œìš” âœ¨",
    priority: "20ëŒ€ í›„ë°˜ ì§ìž¥ì¸ì—ê²ŒëŠ” ë””ìžì¸ê³¼ ë¸Œëžœë“œ, ê·¸ë¦¬ê³  ê°€ì„±ë¹„ì˜ ê· í˜•ì´ ì¤‘ìš”í•´ìš”!",
    budget_comment: "ì´ ì˜ˆì‚°ëŒ€ë©´ ì •ë§ ë©‹ì§„ ì°¨ë“¤ì´ ë§Žì•„ìš”. ë™ê¸°ë“¤ë„ ì¸ì •í•  ì„ íƒì„ ë„ì™€ë“œë¦´ê²Œìš”!"
  },
  camping_lover: {
    welcome: "ìº í•‘ì˜ ì§„ì •í•œ ìžìœ ë¥¼ ëŠë‚„ ìˆ˜ ìžˆëŠ” ì™„ë²½í•œ ì°¨ëŸ‰ì„ ì°¾ì•„ë“œë¦´ê²Œìš”! ìžì—°ê³¼ì˜ ë™í–‰ì„ ë„ì™€ë“œë¦´ê²Œìš” ðŸ•ï¸",
    priority: "ìº í•‘ì¡±ì—ê²ŒëŠ” í‰íƒ„í™” ê¸°ëŠ¥ê³¼ ì ìž¬ê³µê°„ì´ ìƒëª…ì´ì£ ! ì™„ë²½í•œ ì°¨ë°•ì„ ìœ„í•œ ì°¨ëŸ‰ì„ ì¶”ì²œë“œë¦´ê²Œìš”!",
    budget_comment: "ì´ ì˜ˆì‚°ì´ë©´ ìº í•‘ì— ìµœì í™”ëœ ì •ë§ ì¢‹ì€ ì°¨ë“¤ì„ ì„ íƒí•  ìˆ˜ ìžˆì–´ìš”!"
  },
  large_family_dad: {
    welcome: "ëŒ€ê°€ì¡±ì˜ ë“ ë“ í•œ ê¸°ë‘¥! 7ëª…ì´ ëª¨ë‘ íŽ¸ì•ˆí•œ ì°¨ëŸ‰ì„ ì°¾ì•„ë“œë¦´ê²Œìš”. ë‹¤ì¸ìš©ì°¨ì˜ ëª¨ë“  ê²ƒì„ ë¶„ì„í•´ë“œë¦´ê²Œìš”! ðŸ ",
    priority: "ëŒ€ê°€ì¡± ê°€ìž¥ì—ê²ŒëŠ” ë„“ì€ ê³µê°„ê³¼ ì—°ë£Œ ê²½ì œì„±, ê·¸ë¦¬ê³  ìŠ¹í•˜ì°¨ íŽ¸ì˜ì„±ì´ ê°€ìž¥ ì¤‘ìš”í•˜ì£ !",
    budget_comment: "9ì¸ìŠ¹ ìŠ¹í•©ì°¨ë¶€í„° ëŒ€í˜• SUVê¹Œì§€, ëŒ€ê°€ì¡±ì—ê²Œ ìµœì í™”ëœ ì°¨ëŸ‰ì„ ì¶”ì²œë“œë¦´ê²Œìš”."
  }
};

// íŽ˜ë¥´ì†Œë‚˜ ë§¤ì¹­ ìœ í‹¸ë¦¬í‹° (ì—…ë°ì´íŠ¸)
export class PersonaDetector {
  static detectPersona(question: string, budget: { min: number; max: number }): DemoPersona | null {
    for (const persona of DEMO_PERSONAS) {
      // í‚¤ì›Œë“œ ë§¤ì¹­ (ê°€ì¤‘ì¹˜ ì ìš©)
      const hasStrongMatch = persona.keyPhrases.some(phrase =>
        question.toLowerCase().includes(phrase.toLowerCase())
      );

      // ê°œì¸ ìŠ¤í† ë¦¬ ê¸°ë°˜ ë§¤ì¹­ (ê°ì •ì  í‚¤ì›Œë“œ)
      const emotionalKeywords = ['ë¬´ì„œì›Œ', 'ë–¨ë ¤', 'ê±±ì •', 'íž˜ë“¤ì–´', 'ì ˆì‹¤', 'ì™„ë²½í•œ'];
      const hasEmotionalMatch = emotionalKeywords.some(keyword =>
        question.includes(keyword)
      );

      // ì˜ˆì‚° ë²”ìœ„ ë§¤ì¹­ (Â±25% í—ˆìš©)
      const budgetMatch = (
        budget.max >= persona.budget.min * 0.75 &&
        budget.min <= persona.budget.max * 1.25
      );

      if (hasStrongMatch || (hasEmotionalMatch && budgetMatch)) {
        return persona;
      }
    }

    return null;
  }

  static getPersonaById(id: string): DemoPersona | null {
    return DEMO_PERSONAS.find(p => p.id === id) || null;
  }

  static getAllPersonas(): DemoPersona[] {
    return [...DEMO_PERSONAS];
  }
}